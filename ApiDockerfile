FROM golang:1.17.2-alpine
ENV SERVER_IP=192.168.1.3 \
    NETWORK_IP=172.18.0.1
go env -w GO111MODULE="on"
go env -w GOPROXY=https://goproxy.cn,direct
WORKDIR $GOPATH/douyin
COPY . $GOPATH/douyin
RUN go build ./cmd/api/
EXPOSE 8080
ENTRYPOINT ["./api"]